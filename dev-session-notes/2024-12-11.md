# Dev Session Notes — December 11, 2024

## Session Overview

Refactored the Tiller ROI Calculator to use a proper LTV model and cleaned up unused fields. Also improved UX for the revenue input period toggle.

---

## Changes Made

### 1. Removed Unused Fields

**Removed from baseline funnel:**
- `Attribution split: % sourced` — was not used in any calculations
- `Average contract value (USD)` — replaced with LTV model

**Removed from redesign scenarios:**
- `Page speed delta (LCP ms)` — was not influencing any calculations

**Removed from disclaimers:**
- Reference to "sourced vs influenced" split

---

### 2. New LTV Model

Replaced single ACV field with two-component lifetime value calculation:

| Field | Default | Description |
|-------|---------|-------------|
| `arpu` | $3,500 | Revenue per customer (monthly or annual) |
| `lifespanMonths` | 36 | Average customer lifespan in months |

**Calculation:**
```
LTV = ARPU × Lifespan (months)
```

When annual input is selected, ARPU is divided by 12 before computing LTV.

---

### 3. Inline Period Toggle

**Problem:** Original toggle was in the section header, making it unclear what it controlled.

**Solution:** Moved toggle inline with the ARPU field:

```
┌────────────────────────────────────────────┐
│  Revenue per customer      [Mo] [Yr]       │
│  ┌──────────────────────────────────────┐  │
│  │ 3500                                 │  │
│  └──────────────────────────────────────┘  │
│  MRR per customer                          │  ← dynamic hint
└────────────────────────────────────────────┘
```

**Dynamic hints:**
- Monthly: "MRR per customer"
- Annual: "ARR per customer (÷12 for LTV)"

---

## Files Modified

| File | Changes |
|------|---------|
| `index.html` | Simplified baseline header, removed period toggle from header |
| `styles.css` | Added `.field--with-toggle`, `.mini-toggle`, `.mini-chip` styles |
| `src/main.js` | New LTV fields, inline toggle rendering, dynamic hints, removed unused fields |

---

## Commits

```
754b750 Replace ACV with LTV model (ARPU × lifespan), add inline period toggle, remove unused fields
```

---

## Rationale

### Why LTV over ACV?
- **Transparency** — Users can see and adjust both ARPU and retention separately
- **Sensitivity testing** — Can model "what if retention improves?"
- **Matches how teams think** — Marketing knows ARPU, Customer Success knows retention
- **Industry standard** — Classic SaaS formula: `LTV = ARPU / Churn` or `ARPU × Lifespan`

### Why inline toggle?
- **Clarity** — Toggle is visually associated with the field it affects
- **Context** — Dynamic hint reinforces which mode is active
- **Flexibility** — Some teams think in ARR, others in MRR

---

## Next Steps (Future Sessions)

- [ ] Consider adding LTV to the results/KPI cards
- [ ] Add retention/churn rate as an alternative to lifespan months
- [ ] Export CSV should include LTV breakdown

